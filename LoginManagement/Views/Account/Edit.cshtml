@model LoginManagement.Models.User

@{
	Layout = "~/Views/Shared/_MainLayout.cshtml";
}
<link rel="stylesheet" href="~/Content/vendors/linericon/style.css">
<link rel="stylesheet" href="~/Content/css/font-awesome.min.css">
<link rel="stylesheet" href="~/Content/vendors/owl-carousel/owl.carousel.min.css">
<link rel="stylesheet" href="~/Content/vendors/lightbox/simpleLightbox.css">
<link rel="stylesheet" href="~/Content/vendors/nice-select/css/nice-select.css">
<link rel="stylesheet" href="~/Content/vendors/animate-css/animate.css">
<link rel="stylesheet" href="~/Content/vendors/popup/magnific-popup.css">
<link rel="stylesheet" href="~/Content/vendors/flaticon/flaticon.css">
<link rel="stylesheet" href="~/Content/css/style.css">
<link rel="stylesheet" href="~/Content/css/responsive.css">
<link href="~/Content/button.css" rel="stylesheet" />
<link href="~/Content/button.css" rel="stylesheet" />

<div class="card">
	<div class="media">
		@if (Model.AvatarLink != null)
		{
			<div class="d-flex">
				<div class="container">
					<div class="btnhover">
						<div class="h_gallery_item">
							<div class="g_img_item">

								<img class="img-fluid" src="@(Model.AvatarLink)" alt="">
								<a class="light" href="@(Model.AvatarLink)"><img src="" alt=""></a>
								<button onclick="ChangeAvatar()" class="btn">Change Avatar</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		}
		else
		{
			<div class="d-flex">
				<div class="container">
					<div class="btnhover">
						<div class="h_gallery_item">
							<div class="g_img_item">
								<img class="img-fluid" src="~/img/avatarnull.png" alt="">
								<a class="light" href="~/img/avatarnull.png"><img src="" alt=""></a>
								<button onclick="ChangeAvatar()" class="btn">Change Avatar</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		}
		<div class="media-body">
			<div class="personal_text">
				<div class="section-top-border">
					<div class="row">
						<div class="col-lg-12 col-md-12">
							<h3 class="mb-30 title_color">Update Infomation</h3>
							<form id="formEdit" class="form-horizontal form-label-left input_mask" method="post" action="~/Account/Edit">
								<div class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback" hidden="hidden">
									<span class="fa fa-user form-control-feedback left" aria-hidden="true"></span>
									<input type="text" class="form-control has-feedback-left" name="ID" value="@Model.ID">
								</div>

								<div class="form-group">
									<div class="col-md-9 col-sm-9 col-xs-12">

										<span class="fa fa-heart-o form-control-feedback left" aria-hidden="true"> StudentID</span>
										<input type="text" class="form-control" name="StID" readonly="readonly" value="@Model.StID">
									</div>
								</div>
								<div class="form-group">
									<div class="col-md-9 col-sm-9 col-xs-12">
										<span class="fa fa-user form-control-feedback left" aria-hidden="true"> First Name</span>
										<input type="text" class="form-control" name="FirstName" readonly="readonly" value="@Model.FirstName">
									</div>
								</div>
								<div class="form-group">
									<div class="col-md-9 col-sm-9 col-xs-12">
										<span class="fa fa-user form-control-feedback left" aria-hidden="true"> Last Name</span>
										<input type="text" class="form-control" name="LastName" readonly="readonly" value="@Model.LastName">
									</div>
								</div>
								<div class="form-group">
									<div class="col-md-9 col-sm-9 col-xs-12">
										<span class="fa fa-envelope form-control-feedback left" aria-hidden="true"> Email</span>
										<input type="text" class="form-control" readonly="readonly" name="Email" value="@Model.Email">
									</div>
								</div>
								<div class="form-group">
									<div class="col-md-9 col-sm-9 col-xs-12">
										<span class="fa fa-heart-o form-control-feedback right" aria-hidden="true"> Gender</span>
										<select class="form-control" name="Gender">
											@if (Model.Gender == false)
											{
												<option value="false" selected>Nam</option>
												<option value="true">Nữ</option>
											}
											else
											{
												<option value="false">Nam</option>
												<option value="true" selected>Nữ</option>
											}
										</select>
									</div>
								</div>
								<div class="form-group">
									<div class="col-md-9 col-sm-9 col-xs-12">
										<span class="fa fa-phone form-control-feedback right" aria-hidden="true"> PhoneNumber</span>
										<input type="text" class="form-control" name="PhoneNumber" value="@Model.PhoneNumber" placeholder="Enter your phone" required oninput="this.value = this.value.replace(/[^0-9.]/g, ''); this.value = this.value.replace(/(\..*)\./g, '$1');">
									</div>
								</div>

								<div class="form-group">
									<div class="col-md-9 col-sm-9 col-xs-12">
										<span class="fa fa-birthday-cake form-control-feedback left" aria-hidden="true"> Date Of Birth</span>
										<input type="text" class="form-control" name="DoB" value="@(Model.DoB.HasValue ? Model.DoB.Value.ToShortDateString() : string.Empty)" placeholder="Enter your Date Of Birth" required>
									</div>
								</div>

								<div class="form-group">
									<div class="col-md-9 col-sm-9 col-xs-12">
										<span class="fa fa-birthday-cake form-control-feedback left" aria-hidden="true"> Place Of Birth</span>
										<input type="text" class="form-control" name="PlaceofBirth" value="@Model.PlaceofBirth">
									</div>
								</div>
								<div class="ln_solid"></div>
								<div class="form-group" style="text-align:center">
									<div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
										<button type="button" class="btn btn-primary" onclick="window.location='/Account/Index'">Cancel</button>
										<button type="submit" class="btn btn-success">Submit</button>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script src="~/Content/assets/jquery.min.js"></script>
<script src="~/Content/assets/js.cookie.js"></script>
<script>
	

	$('#formEdit').on('click', '[type=submit]', function (e) {
		e.preventDefault();
		Cookies.set('just_submitted', 'true');
		var form = $(this).parents('form');
		form.submit();
	});


	function ChangeAvatar() {
		var url = "/Account/Upload";
		$("#changeAvatarModalBody").load(url, function () {
			$("#changeAvatarModal").modal("show");
		})
	}
</script>
